// export { getColorDict }

function getColorDB (path) {
    var data = null;
    if (path) {
        data = JSON.parse(path)
    } else {
        data = JSON.parse(colordb)
    } 

    // binding data
    data.forEach(element => {
        // Map RGB to int array
        var trimmedRGB = trimBrackets(element['RGB'])  
        element['RGB'] = trimmedRGB.split(",").map(Number)
    });

    console.log("Caching Color DB")
    console.log(data)
    return data
}



// TODO serve and load the colordb.json file, or figure out how to get google sheets (or maybe gist instead) to return a proper json request


const colordb = '[{"GUID":0,"Name":"Dirt Wall","RGB":"[96, 73, 38]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/f/fb/Dirt_Wall.png","imageSourceBackup":""},{"GUID":1,"Name":"Turf Wall","RGB":"[71, 104, 81]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/5/53/Turf_Wall.png","imageSourceBackup":""},{"GUID":2,"Name":"Sand Wall","RGB":"[172, 143, 59]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/0/0e/Sand_Wall.png","imageSourceBackup":""},{"GUID":3,"Name":"Clay Wall","RGB":"[193, 99, 53]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/b/bf/Clay_Wall.png","imageSourceBackup":""},{"GUID":4,"Name":"Stone Wall","RGB":"[73, 104, 125]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/1/1e/Stone_Wall.png","imageSourceBackup":""},{"GUID":5,"Name":"Larva Hive Wall","RGB":"[163, 96, 83]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/5/54/Larva_Hive_Wall.png","imageSourceBackup":""},{"GUID":6,"Name":"Grass Wall","RGB":"[22, 131, 28]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/a/a0/Grass_Wall.png","imageSourceBackup":""},{"GUID":7,"Name":"Mold Wall","RGB":"[90, 156, 186]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/e/e0/Mold_Wall.png","imageSourceBackup":""},{"GUID":8,"Name":"Wood Wall","RGB":"[148, 105, 50]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/f/f5/Wood_Wall.png","imageSourceBackup":""},{"GUID":9,"Name":"Stone Bricks Wall","RGB":"[106, 108, 114]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/9b/Stone_Bricks_Wall.png","imageSourceBackup":""},{"GUID":10,"Name":"Scarlet Wall","RGB":"[144, 38, 22]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/3/36/Scarlet_Wall.png","imageSourceBackup":""},{"GUID":11,"Name":"Paintable Wall - Unpainted","RGB":"[154, 165, 212]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":12,"Name":"Paintable Wall - Yellow","RGB":"[212, 194, 42]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":13,"Name":"Paintable Wall - Red","RGB":"[187, 13, 13]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":14,"Name":"Paintable Wall - Green","RGB":"[64, 169, 13]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":15,"Name":"Paintable Wall - Blue","RGB":"[28, 93, 216]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":16,"Name":"Paintable Wall - White","RGB":"[157, 180, 203]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":17,"Name":"Paintable Wall - Black","RGB":"[61, 61, 61]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":18,"Name":"Paintable Wall - Purple","RGB":"[109, 50, 137]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":19,"Name":"Paintable Wall - Brown","RGB":"[124, 59, 28]","Category":"Wall","imageSource":"https://wikizet.com/corekeeper/english/images/9/92/Paintable_Wall.png","imageSourceBackup":""},{"GUID":20,"Name":"Dirt Ground","RGB":"[127, 95, 50]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/2/2d/Dirt_Ground.png","imageSourceBackup":""},{"GUID":21,"Name":"Turf Ground","RGB":"[86, 128, 99]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/2/23/Turf_Ground.png","imageSourceBackup":""},{"GUID":22,"Name":"Sand Ground","RGB":"[212, 185, 90]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/b/b2/Sand_Ground.png","imageSourceBackup":""},{"GUID":23,"Name":"Clay Ground","RGB":"[232, 139, 105]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/3/3c/Clay_Ground.png","imageSourceBackup":""},{"GUID":24,"Name":"Stone Ground","RGB":"[104, 131, 151]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/b/b6/Stone_Ground.png","imageSourceBackup":""},{"GUID":25,"Name":"Larva Hive Ground","RGB":"[199, 117, 99]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/e/ea/Larva_Hive_Ground.png","imageSourceBackup":""},{"GUID":26,"Name":"Grass Ground","RGB":"[61, 155, 64]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/7/79/Grass_Ground.png","imageSourceBackup":""},{"GUID":27,"Name":"Mold Ground","RGB":"[108, 188, 224]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/d/d3/Mold_Ground.png","imageSourceBackup":""},{"GUID":28,"Name":"Wood Bridge","RGB":"[140, 88, 38]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/f/fc/Wood_Bridge.png","imageSourceBackup":""},{"GUID":29,"Name":"Stone Bridge","RGB":"[124, 117, 108]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/a/a1/Stone_Bridge.png","imageSourceBackup":""},{"GUID":30,"Name":"Scarlet Bridge","RGB":"[168, 28, 46]","Category":"Ground","imageSource":"https://wikizet.com/corekeeper/english/images/8/85/Scarlet_Bridge.png","imageSourceBackup":""},{"GUID":31,"Name":"Wood Floor","RGB":"[199, 148, 79]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/5/58/Wood_Floor.png","imageSourceBackup":""},{"GUID":32,"Name":"Stone Floor","RGB":"[129, 132, 140]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/4/4e/Stone_Floor.png","imageSourceBackup":""},{"GUID":33,"Name":"Scarlet Floor","RGB":"[178, 53, 38]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/d/d6/Scarlet_Floor.png","imageSourceBackup":""},{"GUID":34,"Name":"Woven Mat","RGB":"[59, 139, 64]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/4/47/Woven_Mat.png","imageSourceBackup":""},{"GUID":35,"Name":"Paintable Floor - Unpainted","RGB":"[174, 189, 241]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":36,"Name":"Paintable Floor - Yellow","RGB":"[255, 232, 46]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":37,"Name":"Paintable Floor - Red","RGB":"[223, 0, 0]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":38,"Name":"Paintable Floor - Green","RGB":"[85, 182, 38]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":39,"Name":"Paintable Floor - Blue","RGB":"[42, 108, 228]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":40,"Name":"Paintable Floor - White","RGB":"[178, 206, 233]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":41,"Name":"Paintable Floor - Black","RGB":"[75, 85, 85]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":42,"Name":"Paintable Floor - Purple","RGB":"[139, 79, 167]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":43,"Name":"Paintable Floor - Brown","RGB":"[151, 75, 38]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/21/Paintable_Floor.png","imageSourceBackup":""},{"GUID":44,"Name":"Caveling Floor Tile / Dark Caveling Floor Tile","RGB":"[130, 130, 130]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/5/59/Caveling_Floor_Tile.png","imageSourceBackup":""},{"GUID":45,"Name":"Scarlet Fence / Scarlet Fence Gate","RGB":"[128, 34, 46]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/a/aa/Scarlet_Fence.png","imageSourceBackup":""},{"GUID":46,"Name":"Rug","RGB":"[124, 71, 124]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/f/f2/Rug.png","imageSourceBackup":""},{"GUID":47,"Name":"Stone Fence / Stone Fence Gate","RGB":"[96, 91, 85]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/2d/Stone_Fence.png","imageSourceBackup":""},{"GUID":48,"Name":"Wood Fence / Wood Fence Gate","RGB":"[112, 73, 34]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/1/1e/Wood_Fence.png","imageSourceBackup":""},{"GUID":49,"Name":"Rail","RGB":"[122, 122, 122]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/1/1e/Rail.png","imageSourceBackup":""},{"GUID":50,"Name":"Electrical Wire","RGB":"[90, 79, 73]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/3/3c/Electrical_Wire.png","imageSourceBackup":""},{"GUID":51,"Name":"Conveyor Belt","RGB":"[104, 127, 174]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/1/12/Conveyor_Belt.png","imageSourceBackup":""},{"GUID":52,"Name":"Ancient Crate","RGB":"[77, 168, 202]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/b/ba/Ancient_Crate.png","imageSourceBackup":""},{"GUID":53,"Name":"Flower Vessel","RGB":"[205, 189, 50]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/3/34/Flower_Vessel.png","imageSourceBackup":""},{"GUID":54,"Name":"Mold Vessel","RGB":"[229, 229, 229]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/2/2d/Mold_Vessel.png","imageSourceBackup":""},{"GUID":55,"Name":"Wooden Crate","RGB":"[114, 61, 13]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/0/00/Wooden_Crate.png","imageSourceBackup":""},{"GUID":56,"Name":"Ground Acid Slime","RGB":"[193, 170, 34]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/e/eb/Ground_Acid_Slime.png","imageSourceBackup":""},{"GUID":57,"Name":"Ground Slime","RGB":"[217, 98, 22]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/9/99/Ground_Slime.png","imageSourceBackup":""},{"GUID":58,"Name":"Ground Poison Slime","RGB":"[184, 86, 165]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/b/b1/Ground_Poison_Slime.png","imageSourceBackup":""},{"GUID":59,"Name":"Chrysalis","RGB":"[252, 166, 148]","Category":"Ground Decoration","imageSource":"https://wikizet.com/corekeeper/english/images/0/01/Chrysalis.png","imageSourceBackup":""},{"GUID":60,"Name":"Empty Ground","RGB":"[28, 28, 28]","Category":"Empty Ground","imageSource":"https://wikizet.com/corekeeper/english/images/c/c9/Tombstone.png","imageSourceBackup":""},{"GUID":61,"Name":"Water","RGB":"[28, 61, 129]","Category":"Empty Ground","imageSource":"https://wikizet.com/corekeeper/english/images/c/c9/Tombstone.png","imageSourceBackup":""},{"GUID":62,"Name":"Mold Water","RGB":"[61, 85, 135]","Category":"Empty Ground","imageSource":"https://wikizet.com/corekeeper/english/images/c/c9/Tombstone.png","imageSourceBackup":""},{"GUID":63,"Name":"Hive Water","RGB":"[117, 104, 50]","Category":"Empty Ground","imageSource":"https://wikizet.com/corekeeper/english/images/c/c9/Tombstone.png","imageSourceBackup":""},{"GUID":64,"Name":"Tilled Dirt Ground","RGB":"[180, 127, 73]","Category":"Farm Ground","imageSource":"https://wikizet.com/corekeeper/english/images/2/2d/Dirt_Ground.png","imageSourceBackup":""},{"GUID":66,"Name":"Tilled Grass Ground","RGB":"[13, 115, 42]","Category":"Farm Ground","imageSource":"https://wikizet.com/corekeeper/english/images/7/79/Grass_Ground.png","imageSourceBackup":""},{"GUID":66,"Name":"Tilled Dirt Ground Watered","RGB":"[141, 102, 61]","Category":"Farm Ground","imageSource":"https://wikizet.com/corekeeper/english/images/2/2d/Dirt_Ground.png","imageSourceBackup":""},{"GUID":66,"Name":"Tilled Grass Ground Watered","RGB":"[28, 93, 46]","Category":"Farm Ground","imageSource":"https://wikizet.com/corekeeper/english/images/7/79/Grass_Ground.png","imageSourceBackup":""}]'